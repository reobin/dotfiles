#!/usr/bin/env bash

: "${INSTALL_DIRECTORY:?INSTALL_DIRECTORY is not set}"

APPS=(
  stow
  keyd
  zsh
  shell
  slack-desktop
  telegram-desktop
  openvpn
  lazysql
  hyprmode
  gnome-calendar
  evolution
  notion-app-electron
  bruno
  aws-cli-v2
)

cd "$INSTALL_DIRECTORY"

for app in "${APPS[@]}"; do
  script="$INSTALL_DIRECTORY/software/$app"

  if [[ ! -f "$script" ]]; then
    echo "⚠️  Skipping $app (missing: $script)" >&2
    continue
  fi

  echo "installing $app"
  source "$script"
done
